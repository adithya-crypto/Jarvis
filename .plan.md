# Iron Man JARVIS Transformation Plan

## Overview
Transform the current basic voice assistant into an immersive Iron Man JARVIS experience with cinematic boot sequences, proactive intelligence, rich personality, continuous conversation, and background monitoring.

## Changes (8 files modified, 1 new file)

### 1. Cinematic Boot Sequence (`ui/jarvis_face.py`)
- Replace basic ASCII art with animated-style boot: reactor initialization, subsystem checks (voice, AI engine, memory, sensors), each printing with short delays
- Time-aware greeting: "Good morning sir" / "Good afternoon sir" / "Working late again sir?"
- System diagnostics on boot (battery, CPU, memory) with pass/fail indicators
- Show uptime counter and session ID

### 2. Rich JARVIS Personality (`core/gpt_engine.py`)
- Massively expanded JARVIS_PERSONA prompt with:
  - Deep Tony Stark / JARVIS character traits (dry British wit, "sir", anticipatory responses)
  - Awareness of time of day, system state, user habits
  - Specific response styles for different situations (good news, bad news, errors, greetings)
  - Movie-accurate phrases: "At your service", "Right away sir", "Shall I...", "I'd advise against that sir"
- Feed conversation history (from ContextMemory) into every GPT call so JARVIS remembers context
- Accept optional system_context parameter with current battery/time for situational awareness

### 3. Proactive Background Monitor (`monitoring/jarvis_monitor.py`) - NEW FILE
- Background daemon thread that runs every 60 seconds checking:
  - Battery below 20% -> speaks warning: "Sir, power reserves are critically low"
  - Battery below 10% -> urgent: "Sir, I strongly recommend connecting to a power source immediately"
  - CPU above 90% for sustained period -> "Sir, the processor is running quite hot"
  - Disk above 95% -> "Storage capacity is nearly depleted, sir"
- Proactive time-based alerts:
  - After 2 hours of continuous use -> "Sir, you've been working for 2 hours. Perhaps a break?"
  - Late night (after 11pm) -> "It's getting rather late sir. Shall I enable night mode?"
- Callback system to speak alerts through the main speech engine
- Does NOT interrupt when JARVIS is already speaking or listening

### 4. Continuous Conversation Mode (`main.py`)
- After JARVIS responds, listen for 4 seconds for a follow-up command WITHOUT requiring the wake word
- If user speaks within the window, process it as a new command (multi-turn conversation)
- If silence, return to wake word listening mode
- Graceful shutdown sequence on Ctrl+C: save productivity, speak "Shutting down, sir. It's been a pleasure."
- Integrate proactive monitor thread startup/shutdown
- Integrate productivity tracker with periodic ticks

### 5. Smarter Response System (`main.py`)
- For action commands (open app, mute, etc.), ask GPT with context like "User asked to open Chrome and I did it" to get a witty JARVIS-style confirmation instead of generic GPT response
- For data responses (weather, battery), wrap them in JARVIS personality by prepending "Sir, " and formatting
- Never return plain boring strings - everything should sound like movie JARVIS

### 6. Enhanced Terminal Dashboard (`ui/dashboard.py`)
- Real-time formatted display with:
  - Session uptime
  - Commands processed count
  - Last command and response
  - System vitals (battery, CPU, RAM) with color-coded status bars using ANSI colors
  - Active mode indicator (Normal / Study / Focus / Code Session)

### 7. JARVIS Greeting Intelligence (`core/gpt_engine.py`)
- `get_jarvis_greeting()` function that generates time-aware, personality-rich greetings
- Morning (5am-12pm): "Good morning sir. All systems are operational."
- Afternoon (12pm-5pm): "Good afternoon sir. What can I do for you?"
- Evening (5pm-9pm): "Good evening sir. I trust the day has been productive."
- Night (9pm-5am): "Working late again sir? I'll keep the lights on."
- Slight randomization so it's not always the same greeting

### 8. Enhanced Voice Feedback (`core/speech_output.py`)
- Add sound effects support (optional chime before speaking)
- Cleaner text preprocessing for more natural speech delivery

### 9. Command Router Enhancements (`core/command_router.py`)
- "Good morning" / "Good night" / greetings trigger JARVIS personality responses
- "Run diagnostics" / "systems check" -> full system diagnostic report
- "Shut down" / "go to sleep" -> graceful shutdown sequence
- "Who are you" / "what can you do" -> JARVIS self-introduction

## Execution Order
1. `ui/jarvis_face.py` - Boot sequence (visual, easy to test)
2. `core/gpt_engine.py` - Personality + context memory integration
3. `monitoring/jarvis_monitor.py` - Background monitor (new file)
4. `core/speech_output.py` - Voice feedback enhancements
5. `ui/dashboard.py` - Enhanced dashboard
6. `core/command_router.py` - New commands
7. `main.py` - Tie everything together (continuous conversation, monitor, shutdown)
8. Run tests to verify nothing is broken
